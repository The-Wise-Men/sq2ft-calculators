import"./script-C9GcoGs9.js";function C(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}class g{constructor(){this.roomLength=document.getElementById("room-length"),this.roomWidth=document.getElementById("room-width"),this.carpetWidth=document.getElementById("carpet-width"),this.carpetPrice=document.getElementById("carpet-price"),this.paddingPrice=document.getElementById("padding-price"),this.installationPrice=document.getElementById("installation-price"),this.wasteFactor=document.getElementById("waste-factor"),this.seamDirection=document.getElementById("seam-direction"),this.calculateBtn=document.getElementById("calculate-btn"),this.clearBtn=document.getElementById("clear-btn"),this.initializeEventListeners()}initializeEventListeners(){this.calculateBtn.addEventListener("click",()=>this.calculate()),this.clearBtn.addEventListener("click",()=>this.clear()),[this.roomLength,this.roomWidth,this.carpetWidth,this.carpetPrice,this.paddingPrice,this.installationPrice,this.wasteFactor,this.seamDirection].forEach(e=>{e.addEventListener("input",()=>this.calculate()),e.addEventListener("change",()=>this.calculate())})}calculate(){const e=parseFloat(this.roomLength.value)||0,t=parseFloat(this.roomWidth.value)||0,n=parseFloat(this.carpetWidth.value)||12,r=parseFloat(this.carpetPrice.value)||0,s=parseFloat(this.paddingPrice.value)||0,i=parseFloat(this.installationPrice.value)||0,o=parseFloat(this.wasteFactor.value)||10,d=this.seamDirection.value;if(e<=0||t<=0){this.showError("Please enter valid room dimensions");return}const a=e*t,c=a/9,l=this.calculateCarpetNeeded(e,t,n,d,o),u=l.carpetNeededYards*r,h=c*s,p=c*i,y=u+h+p;this.updateResults({roomAreaSqFt:a.toFixed(1),roomAreaSqYd:c.toFixed(1),carpetNeededYards:l.carpetNeededYards.toFixed(1),linearFeet:l.linearFeet.toFixed(1),seamsRequired:l.seamsRequired,carpetCost:u.toFixed(2),paddingCost:h.toFixed(2),installationCost:p.toFixed(2),totalCost:y.toFixed(2)})}calculateCarpetNeeded(e,t,n,r,s){let i,o,d;if(r==="optimal"){const a=this.calculateForDirection(e,t,n),c=this.calculateForDirection(t,e,n);a.carpetNeeded<=c.carpetNeeded?(i=a.linearFeet,o=a.seamsRequired,d=a.carpetNeeded):(i=c.linearFeet,o=c.seamsRequired,d=c.carpetNeeded)}else if(r==="length"){const a=this.calculateForDirection(e,t,n);i=a.linearFeet,o=a.seamsRequired,d=a.carpetNeeded}else{const a=this.calculateForDirection(t,e,n);i=a.linearFeet,o=a.seamsRequired,d=a.carpetNeeded}return d*=1+s/100,{carpetNeededYards:d,linearFeet:i,seamsRequired:o}}calculateForDirection(e,t,n){let r=0,s;if(t<=n)s=e,r=0;else{const o=Math.ceil(t/n);r=o-1,s=e*o}const i=s*n/9;return{linearFeet:s,seamsRequired:r,carpetNeeded:i}}updateResults(e){document.getElementById("room-area").textContent="".concat(e.roomAreaSqFt," sq ft"),document.getElementById("room-area-yards").textContent="".concat(e.roomAreaSqYd," sq yd"),document.getElementById("carpet-needed").textContent="".concat(e.carpetNeededYards," sq yd"),document.getElementById("linear-feet").textContent="".concat(e.linearFeet," ft"),document.getElementById("seams-required").textContent=e.seamsRequired,document.getElementById("total-cost").textContent="$".concat(e.totalCost),parseFloat(e.carpetCost)>0||parseFloat(e.paddingCost)>0||parseFloat(e.installationCost)>0?(document.getElementById("carpet-cost").textContent="$".concat(e.carpetCost),document.getElementById("padding-cost").textContent="$".concat(e.paddingCost),document.getElementById("installation-cost").textContent="$".concat(e.installationCost),document.getElementById("cost-breakdown").style.display="block"):document.getElementById("cost-breakdown").style.display="none"}clear(){[this.roomLength,this.roomWidth,this.carpetPrice,this.paddingPrice,this.installationPrice].forEach(e=>{e.value=""}),this.carpetWidth.value="12",this.wasteFactor.value="10",this.seamDirection.value="optimal",document.getElementById("room-area").textContent="0 sq ft",document.getElementById("room-area-yards").textContent="0 sq yd",document.getElementById("carpet-needed").textContent="0 sq yd",document.getElementById("linear-feet").textContent="0 ft",document.getElementById("seams-required").textContent="0",document.getElementById("total-cost").textContent="$0.00",document.getElementById("cost-breakdown").style.display="none",this.roomLength.focus()}showError(e){console.error(e)}}document.addEventListener("DOMContentLoaded",()=>{try{new g,console.log("Carpet Calculator initialized successfully")}catch(m){console.error("Failed to initialize Carpet Calculator:",m);const e=document.createElement("div");e.className="error-message",e.innerHTML="<p>⚠️ Calculator failed to load. Please refresh the page or try again later.</p>";const t=document.querySelector("main");t&&t.insertBefore(e,t.firstChild)}});typeof module<"u"&&module.exports&&(module.exports=g);export{C as __vite_legacy_guard};
//# sourceMappingURL=carpet-ZMfK09AO.js.map
