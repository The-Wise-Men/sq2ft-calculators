import"./script-DrXWtngn.js";function f(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}let p=class{constructor(e,t={}){this.type=e,this.options={enableValidation:!0,enablePersistence:!0,enableLoadingStates:!0,...t},this.inputs=new Map,this.results=new Map,this.isLoading=!1,this.initializeCommonElements(),this.setupValidation(),this.loadSavedData()}initializeCommonElements(){this.calculateBtn=document.getElementById("calculate-btn"),this.clearBtn=document.getElementById("clear-btn"),this.setupCommonEventListeners()}setupCommonEventListeners(){this.calculateBtn&&this.calculateBtn.addEventListener("click",()=>this.handleCalculate()),this.clearBtn&&this.clearBtn.addEventListener("click",()=>this.handleClear()),document.addEventListener("keypress",e=>{e.key==="Enter"&&!this.isLoading&&this.handleCalculate()})}setupValidation(){this.options.enableValidation&&document.querySelectorAll('input[type="number"]').forEach(e=>{e.addEventListener("input",()=>this.validateInput(e)),e.addEventListener("blur",()=>this.validateInput(e))})}validateInput(e){if(!this.options.enableValidation)return!0;parseFloat(e.value);const t=parseFloat(e.getAttribute("min"))||0,i=parseFloat(e.getAttribute("max"))||1/0;return validateInput(e,{min:t,max:i,required:e.hasAttribute("required"),customMessage:e.getAttribute("data-error-message")})}handleCalculate(){this.isLoading||(this.showLoading(),setTimeout(()=>{try{this.calculate(),this.saveData()}catch(e){console.error("Error in ".concat(this.type," calculation:"),e),this.showError("Calculation failed. Please check your inputs.")}finally{this.hideLoading()}},100))}handleClear(){document.querySelectorAll('input[type="number"], input[type="text"], select').forEach(t=>{t.value="",t.classList.remove("error","valid")}),document.querySelectorAll(".validation-message").forEach(t=>{t.remove()}),this.clearResults(),this.clearSavedData();const e=document.querySelector('input[type="number"], input[type="text"]');e&&e.focus()}showLoading(){this.options.enableLoadingStates&&(this.isLoading=!0,this.calculateBtn&&(this.calculateBtn.disabled=!0,this.calculateBtn.innerHTML='<i class="fa-solid fa-spinner fa-spin"></i> Calculating...'))}hideLoading(){this.options.enableLoadingStates&&(this.isLoading=!1,this.calculateBtn&&(this.calculateBtn.disabled=!1,this.calculateBtn.innerHTML=this.getCalculateButtonText()))}getCalculateButtonText(){return"üìè Calculate"}showError(e){document.querySelectorAll(".error-message").forEach(s=>s.remove());const t=document.createElement("div");t.className="error-message",t.innerHTML="<p>‚ö†Ô∏è ".concat(e,"</p>");const i=document.querySelector("main");i&&i.insertBefore(t,i.firstChild),setTimeout(()=>{t.parentNode&&t.remove()},5e3)}clearResults(){document.querySelectorAll(".result-value").forEach(e=>{e.textContent="0"})}saveData(){if(!this.options.enablePersistence)return;const e={};document.querySelectorAll('input[type="number"], input[type="text"], select').forEach(t=>{t.value&&(e[t.id]=t.value)}),localStorage.setItem("calculator_".concat(this.type),JSON.stringify(e))}loadSavedData(){if(this.options.enablePersistence)try{const e=localStorage.getItem("calculator_".concat(this.type));if(e){const t=JSON.parse(e);Object.entries(t).forEach(([i,s])=>{const a=document.getElementById(i);a&&(a.value=s)})}}catch(e){console.error("Failed to load saved data:",e)}}clearSavedData(){this.options.enablePersistence&&localStorage.removeItem("calculator_".concat(this.type))}getInputValue(e,t=0){const i=document.getElementById(e);return i&&parseFloat(i.value)||t}setResultValue(e,t,i="number"){const s=document.getElementById(e);if(s)switch(i){case"currency":s.textContent="$".concat(t.toFixed(2));break;case"percentage":s.textContent="".concat(t.toFixed(1),"%");break;case"integer":s.textContent=Math.round(t).toString();break;default:s.textContent=t.toFixed(2)}}calculate(){throw new Error("calculate() method must be implemented by child class")}};typeof module<"u"&&module.exports&&(module.exports=p);class d extends CalculatorBase{constructor(){super("tile",{enableValidation:!0,enablePersistence:!0,enableLoadingStates:!0}),this.roomLength=document.getElementById("room-length"),this.roomWidth=document.getElementById("room-width"),this.tileLength=document.getElementById("tile-length"),this.tileWidth=document.getElementById("tile-width"),this.wasteFactor=document.getElementById("waste-factor"),this.tilePrice=document.getElementById("tile-price"),this.groutWidth=document.getElementById("grout-width"),this.tilesPerBox=document.getElementById("tiles-per-box"),this.setupPresetButtons(),this.setupTileSpecificListeners()}getCalculateButtonText(){return"üìè Calculate Tiles Needed"}setupTileSpecificListeners(){[this.roomLength,this.roomWidth,this.tileLength,this.tileWidth,this.wasteFactor,this.tilePrice,this.groutWidth].forEach(e=>{e&&e.addEventListener("input",()=>this.handleCalculate())}),this.tilesPerBox&&this.tilesPerBox.addEventListener("input",()=>this.updateBoxCount())}setupPresetButtons(){document.querySelectorAll(".preset-btn").forEach(t=>{t.addEventListener("click",()=>{const i=t.dataset.size,[s,a]=i.split("x");this.tileLength.value=s,this.tileWidth.value=a,this.calculate()})})}calculate(){const e=this.getInputValue("room-length"),t=this.getInputValue("room-width"),i=this.getInputValue("tile-length"),s=this.getInputValue("tile-width"),a=this.getInputValue("waste-factor",10),o=this.getInputValue("tile-price"),c=this.getInputValue("grout-width",3);if(e<=0||t<=0||i<=0||s<=0){this.showError("Please enter valid dimensions");return}const n=e*t,u=i*s/144,l=Math.ceil(n/u),h=Math.ceil(l*(1+a/100)),m=this.calculateGroutCoverage(e,t,i,s,c),g=n*o;this.updateResults({roomArea:n.toFixed(2),baseTiles:l,tilesWithWaste:h,groutCoverage:m.toFixed(2),estimatedCost:g.toFixed(2)}),this.updateBoxCount()}calculateGroutCoverage(e,t,i,s,a){const o=a/25.4,c=Math.ceil(e*12/(i+o)),u=Math.ceil(t*12/(s+o))*(e*12)*o,l=c*(t*12)*o;return(u+l)/144}updateResults(e){this.setResultValue("room-area",e.roomArea,"integer"),this.setResultValue("tiles-needed",e.baseTiles,"integer"),this.setResultValue("tiles-with-waste",e.tilesWithWaste,"integer"),this.setResultValue("grout-coverage",e.groutCoverage,"integer"),this.setResultValue("estimated-cost",e.estimatedCost,"currency"),this.currentTilesNeeded=e.tilesWithWaste}updateBoxCount(){const e=parseInt(this.tilesPerBox.value)||0,t=document.getElementById("box-count");if(e>0&&this.currentTilesNeeded){const i=Math.ceil(this.currentTilesNeeded/e);t.textContent="".concat(i," boxes")}else t.textContent="0 boxes"}clear(){[this.roomLength,this.roomWidth,this.tileLength,this.tileWidth,this.tilePrice,this.tilesPerBox].forEach(e=>{e.value=""}),this.wasteFactor.value="10",this.groutWidth.value="3",document.getElementById("room-area").textContent="0 sq ft",document.getElementById("tiles-needed").textContent="0 tiles",document.getElementById("tiles-with-waste").textContent="0 tiles",document.getElementById("grout-coverage").textContent="0 sq ft",document.getElementById("estimated-cost").textContent="$0.00",document.getElementById("box-count").textContent="0 boxes",this.roomLength.focus()}showError(e){console.error(e)}}document.addEventListener("DOMContentLoaded",()=>{try{new d,console.log("Tile Calculator initialized successfully")}catch(r){console.error("Failed to initialize Tile Calculator:",r);const e=document.createElement("div");e.className="error-message",e.innerHTML="<p>‚ö†Ô∏è Calculator failed to load. Please refresh the page or try again later.</p>";const t=document.querySelector("main");t&&t.insertBefore(e,t.firstChild)}});typeof module<"u"&&module.exports&&(module.exports=d);export{f as __vite_legacy_guard};
//# sourceMappingURL=tile-BOzcEM5S.js.map
