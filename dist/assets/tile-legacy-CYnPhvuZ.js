System.register(["./script-legacy-upYGYt70.js"],function(e,t){"use strict";return{setters:[null],execute:function(){let e=class{constructor(e,t={}){this.type=e,this.options={enableValidation:!0,enablePersistence:!0,enableLoadingStates:!0,...t},this.inputs=new Map,this.results=new Map,this.isLoading=!1,this.initializeCommonElements(),this.setupValidation(),this.loadSavedData()}initializeCommonElements(){this.calculateBtn=document.getElementById("calculate-btn"),this.clearBtn=document.getElementById("clear-btn"),this.setupCommonEventListeners()}setupCommonEventListeners(){this.calculateBtn&&this.calculateBtn.addEventListener("click",()=>this.handleCalculate()),this.clearBtn&&this.clearBtn.addEventListener("click",()=>this.handleClear()),document.addEventListener("keypress",e=>{"Enter"!==e.key||this.isLoading||this.handleCalculate()})}setupValidation(){this.options.enableValidation&&document.querySelectorAll('input[type="number"]').forEach(e=>{e.addEventListener("input",()=>this.validateInput(e)),e.addEventListener("blur",()=>this.validateInput(e))})}validateInput(e){if(!this.options.enableValidation)return!0;parseFloat(e.value);const t=parseFloat(e.getAttribute("min"))||0,i=parseFloat(e.getAttribute("max"))||1/0;return validateInput(e,{min:t,max:i,required:e.hasAttribute("required"),customMessage:e.getAttribute("data-error-message")})}handleCalculate(){this.isLoading||(this.showLoading(),setTimeout(()=>{try{this.calculate(),this.saveData()}catch(e){console.error(`Error in ${this.type} calculation:`,e),this.showError("Calculation failed. Please check your inputs.")}finally{this.hideLoading()}},100))}handleClear(){document.querySelectorAll('input[type="number"], input[type="text"], select').forEach(e=>{e.value="",e.classList.remove("error","valid")}),document.querySelectorAll(".validation-message").forEach(e=>{e.remove()}),this.clearResults(),this.clearSavedData();const e=document.querySelector('input[type="number"], input[type="text"]');e&&e.focus()}showLoading(){this.options.enableLoadingStates&&(this.isLoading=!0,this.calculateBtn&&(this.calculateBtn.disabled=!0,this.calculateBtn.innerHTML='<i class="fa-solid fa-spinner fa-spin"></i> Calculating...'))}hideLoading(){this.options.enableLoadingStates&&(this.isLoading=!1,this.calculateBtn&&(this.calculateBtn.disabled=!1,this.calculateBtn.innerHTML=this.getCalculateButtonText()))}getCalculateButtonText(){return"üìè Calculate"}showError(e){document.querySelectorAll(".error-message").forEach(e=>e.remove());const t=document.createElement("div");t.className="error-message",t.innerHTML=`<p>‚ö†Ô∏è ${e}</p>`;const i=document.querySelector("main");i&&i.insertBefore(t,i.firstChild),setTimeout(()=>{t.parentNode&&t.remove()},5e3)}clearResults(){document.querySelectorAll(".result-value").forEach(e=>{e.textContent="0"})}saveData(){if(!this.options.enablePersistence)return;const e={};document.querySelectorAll('input[type="number"], input[type="text"], select').forEach(t=>{t.value&&(e[t.id]=t.value)}),localStorage.setItem(`calculator_${this.type}`,JSON.stringify(e))}loadSavedData(){if(this.options.enablePersistence)try{const e=localStorage.getItem(`calculator_${this.type}`);if(e){const t=JSON.parse(e);Object.entries(t).forEach(([e,t])=>{const i=document.getElementById(e);i&&(i.value=t)})}}catch(e){console.error("Failed to load saved data:",e)}}clearSavedData(){this.options.enablePersistence&&localStorage.removeItem(`calculator_${this.type}`)}getInputValue(e,t=0){const i=document.getElementById(e);return i&&parseFloat(i.value)||t}setResultValue(e,t,i="number"){const s=document.getElementById(e);if(s)switch(i){case"currency":s.textContent=`$${t.toFixed(2)}`;break;case"percentage":s.textContent=`${t.toFixed(1)}%`;break;case"integer":s.textContent=Math.round(t).toString();break;default:s.textContent=t.toFixed(2)}}calculate(){throw new Error("calculate() method must be implemented by child class")}};void 0!==t&&t.exports&&(t.exports=e);class i extends CalculatorBase{constructor(){super("tile",{enableValidation:!0,enablePersistence:!0,enableLoadingStates:!0}),this.roomLength=document.getElementById("room-length"),this.roomWidth=document.getElementById("room-width"),this.tileLength=document.getElementById("tile-length"),this.tileWidth=document.getElementById("tile-width"),this.wasteFactor=document.getElementById("waste-factor"),this.tilePrice=document.getElementById("tile-price"),this.groutWidth=document.getElementById("grout-width"),this.tilesPerBox=document.getElementById("tiles-per-box"),this.setupPresetButtons(),this.setupTileSpecificListeners()}getCalculateButtonText(){return"üìè Calculate Tiles Needed"}setupTileSpecificListeners(){[this.roomLength,this.roomWidth,this.tileLength,this.tileWidth,this.wasteFactor,this.tilePrice,this.groutWidth].forEach(e=>{e&&e.addEventListener("input",()=>this.handleCalculate())}),this.tilesPerBox&&this.tilesPerBox.addEventListener("input",()=>this.updateBoxCount())}setupPresetButtons(){document.querySelectorAll(".preset-btn").forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.size,[i,s]=t.split("x");this.tileLength.value=i,this.tileWidth.value=s,this.calculate()})})}calculate(){const e=this.getInputValue("room-length"),t=this.getInputValue("room-width"),i=this.getInputValue("tile-length"),s=this.getInputValue("tile-width"),a=this.getInputValue("waste-factor",10),n=this.getInputValue("tile-price"),l=this.getInputValue("grout-width",3);if(e<=0||t<=0||i<=0||s<=0)return void this.showError("Please enter valid dimensions");const o=e*t,r=i*s/144,c=Math.ceil(o/r),u=Math.ceil(c*(1+a/100)),d=this.calculateGroutCoverage(e,t,i,s,l),h=o*n;this.updateResults({roomArea:o.toFixed(2),baseTiles:c,tilesWithWaste:u,groutCoverage:d.toFixed(2),estimatedCost:h.toFixed(2)}),this.updateBoxCount()}calculateGroutCoverage(e,t,i,s,a){const n=a/25.4,l=Math.ceil(12*e/(i+n));return(Math.ceil(12*t/(s+n))*(12*e)*n+l*(12*t)*n)/144}updateResults(e){this.setResultValue("room-area",e.roomArea,"integer"),this.setResultValue("tiles-needed",e.baseTiles,"integer"),this.setResultValue("tiles-with-waste",e.tilesWithWaste,"integer"),this.setResultValue("grout-coverage",e.groutCoverage,"integer"),this.setResultValue("estimated-cost",e.estimatedCost,"currency"),this.currentTilesNeeded=e.tilesWithWaste}updateBoxCount(){const e=parseInt(this.tilesPerBox.value)||0,t=document.getElementById("box-count");if(e>0&&this.currentTilesNeeded){const i=Math.ceil(this.currentTilesNeeded/e);t.textContent=`${i} boxes`}else t.textContent="0 boxes"}clear(){[this.roomLength,this.roomWidth,this.tileLength,this.tileWidth,this.tilePrice,this.tilesPerBox].forEach(e=>{e.value=""}),this.wasteFactor.value="10",this.groutWidth.value="3",document.getElementById("room-area").textContent="0 sq ft",document.getElementById("tiles-needed").textContent="0 tiles",document.getElementById("tiles-with-waste").textContent="0 tiles",document.getElementById("grout-coverage").textContent="0 sq ft",document.getElementById("estimated-cost").textContent="$0.00",document.getElementById("box-count").textContent="0 boxes",this.roomLength.focus()}showError(e){console.error(e)}}document.addEventListener("DOMContentLoaded",()=>{try{new i,console.log("Tile Calculator initialized successfully")}catch(e){console.error("Failed to initialize Tile Calculator:",e);const t=document.createElement("div");t.className="error-message",t.innerHTML="<p>‚ö†Ô∏è Calculator failed to load. Please refresh the page or try again later.</p>";const i=document.querySelector("main");i&&i.insertBefore(t,i.firstChild)}}),void 0!==t&&t.exports&&(t.exports=i)}}});
//# sourceMappingURL=tile-legacy-CYnPhvuZ.js.map
