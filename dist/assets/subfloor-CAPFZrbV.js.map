{"version":3,"file":"subfloor-CAPFZrbV.js","sources":["../../subfloor-calculator.js"],"sourcesContent":["// Subfloor Calculator JavaScript\r\n\r\nclass SubfloorCalculator {\r\n    constructor() {\r\n        this.roomLength = document.getElementById('room-length');\r\n        this.roomWidth = document.getElementById('room-width');\r\n        this.materialType = document.getElementById('material-type');\r\n        this.materialThickness = document.getElementById('material-thickness');\r\n        this.sheetSize = document.getElementById('sheet-size');\r\n        this.sheetPrice = document.getElementById('sheet-price');\r\n        this.joistSpacing = document.getElementById('joist-spacing');\r\n        this.fastenerType = document.getElementById('fastener-type');\r\n        this.wasteFactor = document.getElementById('waste-factor');\r\n        this.fastenerPrice = document.getElementById('fastener-price');\r\n        this.underlaymentType = document.getElementById('underlayment-type');\r\n        this.underlaymentPrice = document.getElementById('underlayment-price');\r\n        this.laborCost = document.getElementById('labor-cost');\r\n\r\n        this.calculateBtn = document.getElementById('calculate-btn');\r\n        this.clearBtn = document.getElementById('clear-btn');\r\n\r\n        this.initializeEventListeners();\r\n    }\r\n\r\n    initializeEventListeners() {\r\n        this.calculateBtn.addEventListener('click', () => this.calculate());\r\n        this.clearBtn.addEventListener('click', () => this.clear());\r\n\r\n        // Real-time calculation on input change\r\n        [this.roomLength, this.roomWidth, this.materialType, this.materialThickness,\r\n         this.sheetSize, this.sheetPrice, this.joistSpacing, this.fastenerType,\r\n         this.wasteFactor, this.fastenerPrice, this.underlaymentType,\r\n         this.underlaymentPrice, this.laborCost].forEach(input => {\r\n            input.addEventListener('input', () => this.calculate());\r\n            input.addEventListener('change', () => this.calculate());\r\n        });\r\n    }\r\n\r\n    calculate() {\r\n        const roomL = parseFloat(this.roomLength.value) || 0;\r\n        const roomW = parseFloat(this.roomWidth.value) || 0;\r\n        const sheetSize = this.getSheetDimensions();\r\n        const sheetPriceEach = parseFloat(this.sheetPrice.value) || 0;\r\n        const waste = parseFloat(this.wasteFactor.value) || 10;\r\n        const fastenerCost = parseFloat(this.fastenerPrice.value) || 0;\r\n        const underlaymentCostPerSqFt = parseFloat(this.underlaymentPrice.value) || 0;\r\n        const laborPerSqFt = parseFloat(this.laborCost.value) || 0;\r\n\r\n        if (roomL <= 0 || roomW <= 0) {\r\n            this.showError('Please enter valid room dimensions');\r\n            return;\r\n        }\r\n\r\n        // Calculate room area\r\n        const roomAreaSqFt = roomL * roomW;\r\n\r\n        // Calculate sheets needed\r\n        const sheetAreaSqFt = sheetSize.width * sheetSize.length;\r\n        const baseSheetsNeeded = Math.ceil(roomAreaSqFt / sheetAreaSqFt);\r\n        const sheetsWithWaste = Math.ceil(baseSheetsNeeded * (1 + waste / 100));\r\n\r\n        // Calculate fasteners needed\r\n        const fasteners = this.calculateFasteners(roomAreaSqFt);\r\n\r\n        // Calculate adhesive tubes (if using glue + screws)\r\n        const adhesiveTubes = this.fastenerType.value === 'glue-screws' ?\r\n            Math.ceil(roomAreaSqFt / 300) : 0; // 1 tube per 300 sq ft\r\n\r\n        // Calculate costs\r\n        const materialCost = sheetsWithWaste * sheetPriceEach;\r\n        const underlaymentTotal = this.underlaymentType.value !== 'none' ?\r\n            roomAreaSqFt * underlaymentCostPerSqFt : 0;\r\n        const laborTotal = roomAreaSqFt * laborPerSqFt;\r\n        const totalCost = materialCost + fastenerCost + underlaymentTotal + laborTotal;\r\n\r\n        // Update display\r\n        this.updateResults({\r\n            roomAreaSqFt: roomAreaSqFt.toFixed(1),\r\n            baseSheetsNeeded: baseSheetsNeeded,\r\n            sheetsWithWaste: sheetsWithWaste,\r\n            fastenersNeeded: fasteners,\r\n            adhesiveTubes: adhesiveTubes,\r\n            materialCost: materialCost.toFixed(2),\r\n            fastenerCost: fastenerCost.toFixed(2),\r\n            underlaymentTotal: underlaymentTotal.toFixed(2),\r\n            laborTotal: laborTotal.toFixed(2),\r\n            totalCost: totalCost.toFixed(2)\r\n        });\r\n    }\r\n\r\n    getSheetDimensions() {\r\n        const sizeMap = {\r\n            '4x8': { width: 4, length: 8 },\r\n            '4x10': { width: 4, length: 10 },\r\n            '4x12': { width: 4, length: 12 }\r\n        };\r\n        return sizeMap[this.sheetSize.value] || { width: 4, length: 8 };\r\n    }\r\n\r\n    calculateFasteners(areaSquareFeet) {\r\n        const joistSpacing = parseFloat(this.joistSpacing.value) || 16;\r\n        const thickness = parseFloat(this.materialThickness.value) || 0.75;\r\n\r\n        // Calculate fasteners based on standard spacing\r\n        // 6\" on perimeter, 8-12\" in field depending on thickness\r\n        const perimeterSpacing = 6; // inches\r\n        const fieldSpacing = thickness >= 0.75 ? 12 : 8; // inches\r\n\r\n        // Estimate based on room area (simplified calculation)\r\n        // More accurate would require actual room dimensions and layout\r\n        const approximateFasteners = Math.ceil(areaSquareFeet * 1.5); // Rough estimate\r\n\r\n        return approximateFasteners;\r\n    }\r\n\r\n    updateResults(results) {\r\n        document.getElementById('room-area').textContent = `${results.roomAreaSqFt} sq ft`;\r\n        document.getElementById('sheets-needed').textContent = `${results.baseSheetsNeeded} sheets`;\r\n        document.getElementById('sheets-with-waste').textContent = `${results.sheetsWithWaste} sheets`;\r\n        document.getElementById('fasteners-needed').textContent = results.fastenersNeeded;\r\n        document.getElementById('adhesive-tubes').textContent = `${results.adhesiveTubes} tubes`;\r\n        document.getElementById('total-cost').textContent = `$${results.totalCost}`;\r\n\r\n        // Show cost breakdown if any costs are entered\r\n        if (parseFloat(results.materialCost) > 0 || parseFloat(results.laborTotal) > 0) {\r\n            document.getElementById('material-cost').textContent = `$${results.materialCost}`;\r\n            document.getElementById('fastener-cost-total').textContent = `$${results.fastenerCost}`;\r\n            document.getElementById('underlayment-total').textContent = `$${results.underlaymentTotal}`;\r\n            document.getElementById('labor-total').textContent = `$${results.laborTotal}`;\r\n            document.getElementById('cost-breakdown').style.display = 'block';\r\n        } else {\r\n            document.getElementById('cost-breakdown').style.display = 'none';\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        // Clear all inputs except defaults\r\n        [this.roomLength, this.roomWidth, this.sheetPrice, this.fastenerPrice,\r\n         this.underlaymentPrice, this.laborCost].forEach(input => {\r\n            input.value = '';\r\n        });\r\n\r\n        // Reset to defaults\r\n        this.materialType.value = 'plywood';\r\n        this.materialThickness.value = '0.75';\r\n        this.sheetSize.value = '4x8';\r\n        this.joistSpacing.value = '16';\r\n        this.fastenerType.value = 'screws';\r\n        this.wasteFactor.value = '10';\r\n        this.underlaymentType.value = 'foam';\r\n\r\n        // Clear results\r\n        document.getElementById('room-area').textContent = '0 sq ft';\r\n        document.getElementById('sheets-needed').textContent = '0 sheets';\r\n        document.getElementById('sheets-with-waste').textContent = '0 sheets';\r\n        document.getElementById('fasteners-needed').textContent = '0';\r\n        document.getElementById('adhesive-tubes').textContent = '0 tubes';\r\n        document.getElementById('total-cost').textContent = '$0.00';\r\n        document.getElementById('cost-breakdown').style.display = 'none';\r\n\r\n        this.roomLength.focus();\r\n    }\r\n\r\n    showError(message) {\r\n        console.error(message);\r\n    }\r\n}\r\n\r\n// Subfloor material pricing guide (national averages)\r\nconst subfloorPricing = {\r\n    'plywood': {\r\n        '0.5': { price: 35, description: '½\" CDX Plywood' },\r\n        '0.625': { price: 42, description: '⅝\" CDX Plywood' },\r\n        '0.75': { price: 48, description: '¾\" CDX Plywood' },\r\n        '1.125': { price: 65, description: '1⅛\" CDX Plywood' }\r\n    },\r\n    'osb': {\r\n        '0.5': { price: 25, description: '½\" OSB' },\r\n        '0.625': { price: 30, description: '⅝\" OSB' },\r\n        '0.75': { price: 35, description: '¾\" OSB' },\r\n        '1.125': { price: 48, description: '1⅛\" OSB' }\r\n    },\r\n    'advantech': {\r\n        '0.625': { price: 55, description: '⅝\" AdvanTech' },\r\n        '0.75': { price: 62, description: '¾\" AdvanTech' },\r\n        '1.125': { price: 78, description: '1⅛\" AdvanTech' }\r\n    }\r\n};\r\n\r\n// Fastener requirements by material thickness\r\nconst fastenerRequirements = {\r\n    '0.5': {\r\n        screws: { length: '1.25', quantity: 1.2 },\r\n        nails: { length: '1.5', quantity: 1.5 }\r\n    },\r\n    '0.625': {\r\n        screws: { length: '1.25', quantity: 1.3 },\r\n        nails: { length: '1.75', quantity: 1.6 }\r\n    },\r\n    '0.75': {\r\n        screws: { length: '1.5', quantity: 1.4 },\r\n        nails: { length: '2', quantity: 1.7 }\r\n    },\r\n    '1.125': {\r\n        screws: { length: '2', quantity: 1.6 },\r\n        nails: { length: '2.5', quantity: 2.0 }\r\n    }\r\n};\r\n\r\n// Underlayment options and coverage\r\nconst underlaymentOptions = {\r\n    'foam': {\r\n        coverage: 100, // sq ft per roll\r\n        cost_range: { min: 0.35, max: 0.65 },\r\n        description: 'Basic foam padding'\r\n    },\r\n    'cork': {\r\n        coverage: 200,\r\n        cost_range: { min: 1.20, max: 2.50 },\r\n        description: 'Natural cork underlayment'\r\n    },\r\n    'rubber': {\r\n        coverage: 100,\r\n        cost_range: { min: 0.80, max: 1.50 },\r\n        description: 'Recycled rubber padding'\r\n    },\r\n    'felt': {\r\n        coverage: 500,\r\n        cost_range: { min: 0.15, max: 0.35 },\r\n        description: 'Felt paper moisture barrier'\r\n    }\r\n};\r\n\r\n// Joist spacing requirements\r\nconst joistSpacingRequirements = {\r\n    '12': { min_thickness: 0.5, recommended: 0.625 },\r\n    '16': { min_thickness: 0.625, recommended: 0.75 },\r\n    '19.2': { min_thickness: 0.75, recommended: 1.125 },\r\n    '24': { min_thickness: 1.125, recommended: 1.125 }\r\n};\r\n\r\n// Utility functions\r\nfunction validateThicknessForSpacing(thickness, spacing) {\r\n    const requirements = joistSpacingRequirements[spacing.toString()];\r\n    if (!requirements) return true;\r\n\r\n    return thickness >= requirements.min_thickness;\r\n}\r\n\r\nfunction calculateDeflection(thickness, spacing, load = 40) {\r\n    // Simplified deflection calculation (PSF loading)\r\n    // Real calculation would need material properties\r\n    const span = spacing / 12; // Convert to feet\r\n    const momentOfInertia = Math.pow(thickness, 3) / 12;\r\n\r\n    // This is a simplified approximation\r\n    return (5 * load * Math.pow(span, 4)) / (384 * 1600000 * momentOfInertia);\r\n}\r\n\r\nfunction estimateInstallationTime(squareFeet, complexity = 'normal') {\r\n    const baseRate = {\r\n        'simple': 25, // sq ft per hour\r\n        'normal': 20,\r\n        'complex': 15\r\n    };\r\n\r\n    return Math.ceil(squareFeet / (baseRate[complexity] || 20));\r\n}\r\n\r\nfunction calculateAdhesiveNeeded(squareFeet) {\r\n    // Construction adhesive coverage: ~300 sq ft per 28oz tube\r\n    return Math.ceil(squareFeet / 300);\r\n}\r\n\r\n// Initialize calculator\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    new SubfloorCalculator();\r\n    console.log('Subfloor Calculator initialized');\r\n});\r\n\r\n// Export for testing\r\nif (typeof module !== 'undefined' && module.exports) {\r\n    module.exports = SubfloorCalculator;\r\n}\r\n"],"names":["SubfloorCalculator","input","roomL","roomW","sheetSize","sheetPriceEach","waste","fastenerCost","underlaymentCostPerSqFt","laborPerSqFt","roomAreaSqFt","sheetAreaSqFt","baseSheetsNeeded","sheetsWithWaste","fasteners","adhesiveTubes","materialCost","underlaymentTotal","laborTotal","totalCost","areaSquareFeet","results","message"],"mappings":"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"}