System.register(["./script-legacy-upYGYt70.js"],function(e,t){"use strict";return{setters:[null],execute:function(){class e{constructor(){this.roomLength=document.getElementById("room-length"),this.roomWidth=document.getElementById("room-width"),this.carpetWidth=document.getElementById("carpet-width"),this.carpetPrice=document.getElementById("carpet-price"),this.paddingPrice=document.getElementById("padding-price"),this.installationPrice=document.getElementById("installation-price"),this.wasteFactor=document.getElementById("waste-factor"),this.seamDirection=document.getElementById("seam-direction"),this.calculateBtn=document.getElementById("calculate-btn"),this.clearBtn=document.getElementById("clear-btn"),this.initializeEventListeners()}initializeEventListeners(){this.calculateBtn.addEventListener("click",()=>this.calculate()),this.clearBtn.addEventListener("click",()=>this.clear()),[this.roomLength,this.roomWidth,this.carpetWidth,this.carpetPrice,this.paddingPrice,this.installationPrice,this.wasteFactor,this.seamDirection].forEach(e=>{e.addEventListener("input",()=>this.calculate()),e.addEventListener("change",()=>this.calculate())})}calculate(){const e=parseFloat(this.roomLength.value)||0,t=parseFloat(this.roomWidth.value)||0,a=parseFloat(this.carpetWidth.value)||12,n=parseFloat(this.carpetPrice.value)||0,o=parseFloat(this.paddingPrice.value)||0,i=parseFloat(this.installationPrice.value)||0,r=parseFloat(this.wasteFactor.value)||10,s=this.seamDirection.value;if(e<=0||t<=0)return void this.showError("Please enter valid room dimensions");const d=e*t,c=d/9,l=this.calculateCarpetNeeded(e,t,a,s,r),m=l.carpetNeededYards*n,u=c*o,h=c*i,p=m+u+h;this.updateResults({roomAreaSqFt:d.toFixed(1),roomAreaSqYd:c.toFixed(1),carpetNeededYards:l.carpetNeededYards.toFixed(1),linearFeet:l.linearFeet.toFixed(1),seamsRequired:l.seamsRequired,carpetCost:m.toFixed(2),paddingCost:u.toFixed(2),installationCost:h.toFixed(2),totalCost:p.toFixed(2)})}calculateCarpetNeeded(e,t,a,n,o){let i,r,s;if("optimal"===n){const n=this.calculateForDirection(e,t,a),o=this.calculateForDirection(t,e,a);n.carpetNeeded<=o.carpetNeeded?(i=n.linearFeet,r=n.seamsRequired,s=n.carpetNeeded):(i=o.linearFeet,r=o.seamsRequired,s=o.carpetNeeded)}else if("length"===n){const n=this.calculateForDirection(e,t,a);i=n.linearFeet,r=n.seamsRequired,s=n.carpetNeeded}else{const n=this.calculateForDirection(t,e,a);i=n.linearFeet,r=n.seamsRequired,s=n.carpetNeeded}return s*=1+o/100,{carpetNeededYards:s,linearFeet:i,seamsRequired:r}}calculateForDirection(e,t,a){let n,o=0;if(t<=a)n=e,o=0;else{const i=Math.ceil(t/a);o=i-1,n=e*i}return{linearFeet:n,seamsRequired:o,carpetNeeded:n*a/9}}updateResults(e){document.getElementById("room-area").textContent=`${e.roomAreaSqFt} sq ft`,document.getElementById("room-area-yards").textContent=`${e.roomAreaSqYd} sq yd`,document.getElementById("carpet-needed").textContent=`${e.carpetNeededYards} sq yd`,document.getElementById("linear-feet").textContent=`${e.linearFeet} ft`,document.getElementById("seams-required").textContent=e.seamsRequired,document.getElementById("total-cost").textContent=`$${e.totalCost}`,parseFloat(e.carpetCost)>0||parseFloat(e.paddingCost)>0||parseFloat(e.installationCost)>0?(document.getElementById("carpet-cost").textContent=`$${e.carpetCost}`,document.getElementById("padding-cost").textContent=`$${e.paddingCost}`,document.getElementById("installation-cost").textContent=`$${e.installationCost}`,document.getElementById("cost-breakdown").style.display="block"):document.getElementById("cost-breakdown").style.display="none"}clear(){[this.roomLength,this.roomWidth,this.carpetPrice,this.paddingPrice,this.installationPrice].forEach(e=>{e.value=""}),this.carpetWidth.value="12",this.wasteFactor.value="10",this.seamDirection.value="optimal",document.getElementById("room-area").textContent="0 sq ft",document.getElementById("room-area-yards").textContent="0 sq yd",document.getElementById("carpet-needed").textContent="0 sq yd",document.getElementById("linear-feet").textContent="0 ft",document.getElementById("seams-required").textContent="0",document.getElementById("total-cost").textContent="$0.00",document.getElementById("cost-breakdown").style.display="none",this.roomLength.focus()}showError(e){console.error(e)}}document.addEventListener("DOMContentLoaded",()=>{try{new e,console.log("Carpet Calculator initialized successfully")}catch(t){console.error("Failed to initialize Carpet Calculator:",t);const e=document.createElement("div");e.className="error-message",e.innerHTML="<p>⚠️ Calculator failed to load. Please refresh the page or try again later.</p>";const a=document.querySelector("main");a&&a.insertBefore(e,a.firstChild)}}),void 0!==t&&t.exports&&(t.exports=e)}}});
//# sourceMappingURL=carpet-legacy-C9weVmPn.js.map
